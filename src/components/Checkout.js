import React, { useState } from "react";
import { useLocation } from "react-router-dom"; 
const Checkout = () => { const { state } = useLocation(); 
                        const cartItems = state?.cartItems || []; 
                        const [formData, setFormData] = useState({ name: "", email: "", address: "", phone: "", }); 
                        const [success, setSuccess] = useState(false); const handleChange = (e) => { setFormData({ ...formData, [e.target.name]: e.target.value, }); };
                        const handleSubmit = (e) => { e.preventDefault(); console.log("Order Submitted ✅", { ...formData, cartItems, }); // ✅ Just mark success (no backend needed) setSuccess(true); };
                                                     const totalPrice = cartItems.reduce( (acc, item) => acc + item.price * item.quantity, 0 ); return ( <div className="p-8 bg-gray-100 min-h-screen"> <h1 className="text-3xl font-bold mb-6 text-center">Checkout</h1> {cartItems.length === 0 ? ( <p className="text-center text-gray-600">⚠ No items in cart.</p> ) : ( <div className="space-y-6 max-w-5xl mx-auto"> {/* Order Summary */} <div className="bg-white rounded-lg shadow p-6"> <h2 className="text-2xl font-semibold mb-4">Order Summary</h2> {cartItems.map((item) => ( <div key={item._id} className="flex items-center justify-between mb-4"> <div className="flex items-center"> <img src={http://localhost:5000/Images/${item.image}} alt={item.productName} className="h-20 w-20 object-contain rounded mr-4" /> <div> <h3 className="font-medium">{item.productName}</h3> <p className="text-gray-600 text-sm"> {item.quantity} × ₹{item.price} = ₹ {item.quantity * item.price} </p> </div> </div> </div> ))} <div className="mt-4 text-right font-bold text-xl"> Total: <span className="text-green-600">₹{totalPrice}</span> </div> </div> {/* Billing Form */} <div className="bg-white rounded-lg shadow p-6"> <h2 className="text-2xl font-semibold mb-4">Billing Details</h2> <form onSubmit={handleSubmit} className="space-y-4"> <input type="text" name="name" placeholder="Full Name" value={formData.name} onChange={handleChange} required className="w-full p-3 border rounded" /> <input type="email" name="email" placeholder="Email Address" value={formData.email} onChange={handleChange} required className="w-full p-3 border rounded" /> <input type="text" name="address" placeholder="Delivery Address" value={formData.address} onChange={handleChange} required className="w-full p-3 border rounded" /> <input type="tel" name="phone" placeholder="Phone Number" value={formData.phone} onChange={handleChange} required className="w-full p-3 border rounded" /> <button type="submit" className={w-full py-3 rounded transition ${ success ? "bg-green-600 cursor-default text-white" : "bg-blue-600 hover:bg-blue-700 text-white" }} disabled={success} > {success ? "✅ Order Placed Successfully" : "Place Order"} </button> </form> </div> </div> )} </div> ); }; export default Checkout;
